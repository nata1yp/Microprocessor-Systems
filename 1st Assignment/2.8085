IN 10H
LXI B,01F4H	; BC = 500
MVI D,01H	; Αρχικοποίηση του καταχωρητή D με 1
MVI E,00H	; Αρχικοποίηση καταχωρητή Ε (direction flag) με 0 (αριστερή περιστροφή)   
START: CALL DELB	; Προσθήκη delay = BC*1ms = 500*10-3 = 0,5 s
	LDA 2000H	; Φόρτωση του περιεχομένου της θέσης 2000Η (dip switch) στον Α 
	ANI 02H	; Απομόνωση του 2ου LSB του Α και καταχώρηση του στον ίδιο  
	CPI 01H	; Σύγκριση του Α με την τιμή 1, αν Α μικρότερο τότε CY = 1, αλλιώς  CY = 0 
	JC LSB		; Αν CY = 1 (δηλαδή 2ο LSB = 0), τότε άλμα στην ετικέτα LSB
 	MVI A,01H     	; Καταχώρηση της τιμής 1 στον Α
 	CMA 		; Συμπλήρωμα ως προς 1 του Α και καταχώρηση του στον ίδιο 
	STA 3000H	; Ενημέρωση της κατάστασης  του LED στη θεση 3000Η
	JMP START	; Άλμα στην ετικέτα START
LSB: 	LDA 2000H	; Φόρτωση του περιεχομένου της θέσης 2000Η (dip switch) στον Α
	ANI 01H	; Απομόνωση του LSB του Α και καταχώρηση του στον ίδιο  
	CPI 01H	; Σύγκριση του Α με την τιμή 1, αν Α μικρότερο τότε CY = 1, αλλιώς  CY = 0
	JC LEFT	; Αν CY = 1 (δηλαδή LSB = 0), τότε άλμα στην ετικέτα LEFT
	MOV A,D	; Μεταφορά του περιεχομένου του D (προηγούμενη τιμή της 2000Η) στον Α
	CPI 80H	; Σύγκριση του Α με την τιμή 10000000, αν ισούνται τότε Ζ = 1, αλλιώς Ζ = 0 
	JZ RIGHT	; Αν Ζ = 1, τότε άλμα στην ετικέτα RIGHT
	MOV A,E	; Μεταφορά του περιεχομένου του Ε (flag direction) στον Α
	CPI 01H	; Σύγκριση του Α με την τιμή 1, αν ισούνται τότε Ζ = 1, αλλιώς Ζ = 0
	JZ RIGHT	; Αν Ζ = 1, τότε άλμα στην ετικέτα RIGHT
LEFT:	MOV A,D	; Μεταφορά του περιεχομένου του D στον Α
 	RLC 		; Αριστερή περιστροφή των ψηφίων του Α
 	CMA 		; Συμπλήρωμα ως προς 1 του Α και καταχώρηση του στον ίδιο
 	STA 3000H	; Ενημέρωση της κατάστασης του LED στη θέση 3000H
 	CMA
 	MOV D,A	; Μεταφορά του περιεχομένου του Α (ενημερωμένη τιμή) στον D
 	JMP START	; Άλμα στην ετικέτα START
RIGHT: MVI E,01H	; Φόρτωση στον Ε (direction flag) της τιμής 1 (δεξιά περιστροφή)
MOV A,D	; Μεταφορά του περιεχομένου του D στον Α
RRC		; Δεξιά περιστροφή των ψηφίων του Α
CMA
STA 3000H	; Ενημέρωση της κατάστασης του LED στη θέση 3000Η
CMA
MOV D,A	; Μεταφορά του περιεχομένου του Α (ενημερωμένη τιμή) στον D
CPI 01H	; Σύγκριση του Α με την τιμή 1, αν ισούνται τότε Ζ = 1, αλλιώς Ζ = 0
JNZ START	; Αν Ζ = 0, τότε άλμα στην ετικέτα START
MVI E,00H	; Φόρτωση στον Ε (direction flag) της τιμής 0 (αριστερή περιστροφή)
JMP START	; Άλμα στην ετικέτα START
END 
